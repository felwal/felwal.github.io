<div class="figrow__container{{ if .Get "wide" }} wide{{ end }}">
    {{ $dynamic := true }}
    {{ with .Get "force-row" }}
        {{ if . }}
            {{ $dynamic = false }}
        {{ end }}
    {{ end }}

    {{ $style := "" }}
    {{ with .Get "columns-mobile" }}
        {{ $style = add "grid-template-columns: repeat(" . ", auto);" }}
    {{ end }}

    <!-- div for column (mobile) -->
    <div class="figrow__div{{ if $dynamic }} figrow__div--dynamic{{ end }}" style="{{ safe.CSS $style }}">
        {{ .Inner }}
    </div>

    <!-- table for row -->
    <table class="figrow__table{{ if $dynamic }} figrow__table--dynamic{{ end }}">
        <tbody>
            <tr>
                {{ .Inner }}
            </tr>
        </tbody>
    </table>

    {{ with .Get "caption" }}
        <figcaption>
            <p class="caption">{{ markdownify . }}</p>
        </figcaption>
    {{ end }}
</div>
